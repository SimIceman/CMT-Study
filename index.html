<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CMT Level 1 – Interactive Study Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 20px;
      max-width: 900px;
      margin: auto;
    }
    h1, h2 {
      text-align: center;
    }
    .controls {
      background: #ffffff;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    label {
      font-weight: bold;
    }
    input {
      margin: 5px 10px 5px 0;
      padding: 5px;
    }
    .week {
      background: #ffffff;
      margin-bottom: 12px;
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }
    .week.completed {
      background: #d4edda;
    }
    .progress {
      margin-top: 20px;
      background: #ffffff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

<h1>CMT Level 1 – Study Planner</h1>
<h2>8 Hours Per Week Interactive Tracker</h2>

<div class="controls">
  <label>Start Date:</label>
  <input type="date" id="startDate" />
  <button onclick="calculateDates()">Calculate Schedule</button>
  <p id="endDate"></p>
  <p id="timeRemaining"></p>
</div>

<div id="weeks"></div>

<div class="progress">
  <h3>Progress</h3>
  <p id="progressText">0 / 12 weeks completed</p>
</div>

<script>
  const studyPlan = [
    "Intro to Technical Analysis + Philosophy",
    "Market Data, Charts (Line, Bar, Candlestick)",
    "Trend Analysis & Support/Resistance",
    "Chart Patterns (Reversal & Continuation)",
    "Moving Averages & Momentum Indicators",
    "Oscillators (RSI, MACD, Stochastic)",
    "Market Breadth & Sentiment Indicators",
    "Volatility, Cycles & Confirmation",
    "System Testing & Statistics Basics",
    "Ethics & Professional Conduct",
    "Full Revision + Weak Areas",
    "Mock Exams & Final Review"
  ];

  const weeksDiv = document.getElementById("weeks");

  studyPlan.forEach((topic, index) => {
    const div = document.createElement("div");
    div.className = "week";
    div.innerHTML = `
      <input type="checkbox" onchange="toggleComplete(this, ${index})" />
      <strong>Week ${index + 1}:</strong> ${topic} (8 hrs)
      <p id="date-${index}"></p>
    `;
    weeksDiv.appendChild(div);
  });

  function toggleComplete(checkbox, index) {
    const weekDiv = checkbox.parentElement;
    weekDiv.classList.toggle("completed", checkbox.checked);
    updateProgress();
  }

  function updateProgress() {
    const completed = document.querySelectorAll(".week.completed").length;
    document.getElementById("progressText").innerText = `${completed} / ${studyPlan.length} weeks completed`;
  }

  function calculateDates() {
    const startDateInput = document.getElementById("startDate").value;
    if (!startDateInput) return;

    const startDate = new Date(startDateInput);
    studyPlan.forEach((_, i) => {
      const weekStart = new Date(startDate);
      weekStart.setDate(startDate.getDate() + i * 7);
      document.getElementById(`date-${i}`).innerText = `Week starts: ${weekStart.toDateString()}`;
    });

    const endDate = new Date(startDate);
    endDate.setDate(startDate.getDate() + studyPlan.length * 7);
    document.getElementById("endDate").innerText = `Expected Completion Date: ${endDate.toDateString()}`;

    const today = new Date();
    const diffTime = endDate - today;
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    if (diffDays > 0) {
      document.getElementById("timeRemaining").innerText = `Days remaining: ${diffDays}`;
    } else {
      document.getElementById("timeRemaining").innerText = `Schedule completed or overdue`;
    }
  }
</script>

</body>
</html>

